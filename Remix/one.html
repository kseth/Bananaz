<!DOCTYPE html>
<html lang="en">
<head>
<meta charset=utf-8>
</head>

<body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src='remix.js'></script>
<script type="text/javascript">

// First-beat extraction and assembly
// You will need to supply your Echo Nest API key, the trackID, and a URL to the track.
// The supplied track can be found in the audio subdirectory.
var apiKey = 'IJMOFOATE6IHSZVFT';
var soundCloudApiKey = '7f3d2944e383b89225583a4a8ad4dac1';

var remixer;
var player;
var track;
var remixed;

function init() {
    if (window.webkitAudioContext === undefined) {
        error("Sorry, this app needs advanced web audio. Your browser doesn't"
            + " support it. Try the latest version of Chrome");
    } else {
        var context = new webkitAudioContext();
        remixer = createJRemixer(context, $, apiKey);
        player = remixer.getPlayer();
        $("#info").text("Please enter a SoundCloud URL");


	$("#soundcloud-submit").click(function() {

	$("#info").text("Getting data from SoundCloud...");
	var soundCloudURL = $("#soundcloud-url").val();

        	remixer.remixTrackBySoundCloudURL(soundCloudURL, soundCloudApiKey, function(t, percent) {
        	    track = t;

        	    $("#info").text(percent + "% of the track loaded");
        	    if (percent == 100) {
        	        $("#info").text(percent + "% of the track loaded, remixing...");
        	    }

        	    if (track.status == 'ok') {
        	        remixed = new Array();
			
			var meter = parseInt(track.analysis.track.time_signature);

			console.log("starting length: "+track.analysis.beats.length);

        	        // Do the remixing here!
        	        for (var i=0; i < track.analysis.beats.length; i++) {
        	            switch (i % meter) {
			    	case 0: remixed.push(track.analysis.beats[i]);
					remixed.push(track.analysis.beats[i]);
					break;
				case 1: break;
				case 2: remixed.push(track.analysis.beats[i]);
					remixed.push(track.analysis.beats[i-1]);
					break;
				default:remixed.push(track.analysis.beats[i]);
					break;
        	            }
        	        }

        	        $("#info").text("Remix complete!");

			console.log("ending length: "+remixed.length);
        	    }
        	});

	});
    }
}

window.onload = init;
</script>

Welcome to One.html

<div id="info"></div>
<div id="textbox-div">
    <input type="text" id="soundcloud-url" />
    <input type="submit" id="soundcloud-submit" value="Remix!" />
</div>

<div id='info'> </div>
<button onClick="player.stop(); player.play(0, remixed);">Play!</button>
<button onClick="player.stop()">Stop!</button>
</body>

</html>
